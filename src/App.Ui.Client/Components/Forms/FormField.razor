@using System.Linq.Expressions
@typeparam TValue

<div class="space-y-2">
    @if (!string.IsNullOrWhiteSpace(Label))
    {
        <label class="text-sm font-medium text-slate-700" for="@Id">@Label</label>
    }

    @ChildContent

    @if (ValueExpression is not null)
    {
        <ValidationMessage For="ValueExpression" class="text-sm text-rose-600" />
    }

    @if (!string.IsNullOrWhiteSpace(HelpText))
    {
        <p class="text-xs text-slate-500">@HelpText</p>
    }
</div>

@code {
    [Parameter] public string Id { get; set; } = string.Empty;
    [Parameter] public string Label { get; set; } = string.Empty;
    [Parameter] public string? HelpText { get; set; }
    [Parameter] public Expression<Func<TValue>>? ValueExpression { get; set; }
    [Parameter] public RenderFragment? ChildContent { get; set; }
}
